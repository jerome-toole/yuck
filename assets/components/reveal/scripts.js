(()=>{"use strict";class e{constructor(e){this.revealContainer=e,this.revealButton=this.revealContainer.querySelector(".js-reveal-item"),this.content=this.revealContainer.querySelector(".reveal__content"),this.init()}init(){this.content&&this.revealButton&&(this.revealButton.addEventListener("click",(e=>{e.preventDefault(),this.revealToggle()})),this.revealContainer.addEventListener("reveal-open",this),this.revealContainer.addEventListener("reveal-close",this),this.revealContainer.classList.add("is-enabled"),this.revealClose())}transitionEnded(e){"height"===e.propertyName&&(this.content.removeEventListener("transitionend",this),"false"===this.revealButton.getAttribute("aria-expanded")?this.content.hidden=!0:this.content.style.height=null)}revealOpen(){const{content:e}=this;e.hidden=!1;const t=e.scrollHeight;e.style.height="".concat(t,"px"),e.addEventListener("transitionend",this),this.revealButton.setAttribute("aria-expanded","true"),this.revealContainer.classList.add("is-open")}revealClose(){const{content:e}=this;e.addEventListener("transitionend",this);const t=e.style.transition;e.style.transition="",e.style.height="".concat(0,"px"),e.style.transition=t,this.revealButton.setAttribute("aria-expanded","false"),this.revealContainer.classList.remove("is-open"),this.content.hidden=!0}revealCloseTransition(){const{content:e}=this;e.addEventListener("transitionend",this);const t=e.scrollHeight,n=e.style.transition;e.style.transition="",requestAnimationFrame((()=>{e.style.height="".concat(t,"px"),e.style.transition=n,requestAnimationFrame((()=>{e.style.height="".concat(0,"px")}))})),this.revealButton.setAttribute("aria-expanded","false"),this.revealContainer.classList.remove("is-open")}revealToggle(){"false"===this.revealButton.getAttribute("aria-expanded")?this.revealOpen():this.revealCloseTransition(this.content)}handleEvent(e){switch(e.type){case"transitionend":this.transitionEnded(e);break;case"reveal-open":this.revealOpen(e);break;case"reveal-close":this.revealClose(e)}}}document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".reveal").forEach((t=>{new e(t)}))}))})();